<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html;  charset=UTF8">
    <title>Add Student</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body class=" text-center">
<div class="container">
    <h1 class="h1 p-4"><span th:if="${#strings. isEmpty(student.name)}">Insert</span>
        <span th:unless="${#strings. isEmpty(student.name)}">Update</span> Student's Details</h1>

    <div class="container d-flex flex-row justify-content-evenly">
    <a href="/index" class="btn btn-info mt-2 mb-4">Home</a>
    <button id="DarkMode" class="btn mt-2 mb-4" onclick="darkMode()">Dark Mode</button>
        </div>

    <form action="#"
          th:action="${#strings.isEmpty(student.name)} ? @{/student/addStudent} : @{/student/updateStudent/{id} (id=${student.studentId})}"
          th:object="${student}" method="post">

        <label for="name" class="form-label">Name:</label>
        <input id="name" placeholder="Insert Name" class="form-control text-center" type="text" th:field="*{name}"
               name="name" required/> <br>

        <label for="surname" class="form-label">Surname:</label>
        <input id="surname" placeholder="Insert Name" class="form-control text-center" type="text" th:field="*{surname}"
               name="surname" required/> <br>

        <label for="id" class="form-label">ID:</label>
        <input id="id" placeholder="Insert Student Id" class="form-control text-center" type="text"
               th:field="*{studentId}" name="studentId"
               th:disabled="${!#strings.isEmpty(student.StudentId)}" required/>
        <br>

        <label for="email" class="form-label">Email:</label>
        <input id="email" placeholder="Insert Email" class="form-control text-center" type="email" th:field="*{email}"
               name="email" required/> <br>

        <label for="birthdate" class="form-label">Birthdate:</label>
        <input id="birthdate" placeholder="Insert Birthdate" class="form-control text-center" pattern="yyyy-MM-dd"
               type="date" th:field="*{birthdate}"
               name="birthdate" required/> <br>

        <label for="address" class="form-label">Address:</label>
        <input id="address" placeholder="Insert Address" class="form-control text-center" type="text"
               th:field="*{address}" name="address" required/>
        <br>

        <label for="city" class="form-label">City of Residence:</label>
        <input id="city" placeholder="Insert City of Residence" class="form-control text-center" type="text"
               th:field="*{city}" name="city" required/>
        <br>

        <label for="degree course" class="form-label">Degree:</label>
        <select id="degree course" class="form-select text-center " required th:field="*{degree}">
            <option value="" selected>Select a Degree</option>
            <option th:each="degree:${degrees}" th:value="${degree.code}" th:text="${degree.name}"></option>
        </select> <br>

        <input type="submit" class="btn btn-success m-3"
               th:value="${#strings .isEmpty(student.name)}? 'Add Student' : 'Update Student'"/>
        <input type="reset" class="btn btn-danger m-3" value="Reset" id="button-1"/>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
<script>
        function darkMode(){
   var x= document.body;
   x.classList.toggle("bg-dark")
   x.classList.toggle("text-light");
   var button=document.getElementById("DarkMode");
   button.classList.toggle("text-light");
   }

</script>
</body>
</html>